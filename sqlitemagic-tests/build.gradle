// Top-level build file where you can add configuration options common to all sub-projects/modules.
apply from: '../buildsystem/dependencies.gradle'

allprojects {
  buildscript {
    repositories {
      jcenter()
      mavenLocal()
      google()
    }
    dependencies {
      classpath libraries.androidGradle
      classpath libraries.sqlitemagicPlugin
      classpath libraries.kotlinGradlePlugin
    }
  }
  repositories {
    mavenLocal()
    jcenter()
    google()
    maven {
      url "${System.getenv("ANDROID_HOME")}/extras/android/m2repository/"
    }
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '4.5'
  distributionUrl = 'https://services.gradle.org/distributions/gradle-4.5-all.zip'
}

task runUnitTests(dependsOn: [
    'app:testDebugUnitTest',
    'app-kotlin:testDebugUnitTest',
    'multimodule-app:testDebugUnitTest',
    'submodule:testDebugUnitTest'
])

task runAndroidTests(dependsOn: [
    'app:connectedDebugAndroidTest',
    'multimodule-app:connectedDebugAndroidTest'
])